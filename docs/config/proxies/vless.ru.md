# VLESS

```{.yaml linenums="1"}
proxies:
- name: "vless"
  type: vless
  server: server
  port: 443
  udp: true
  uuid: uuid
  flow: xtls-rprx-vision
  packet-encoding: xudp

  tls: true
  servername: example.com
  alpn:
  - h2
  - http/1.1
  fingerprint: xxxx
  client-fingerprint: chrome
  skip-cert-verify: true
  reality-opts:
    public-key: xxxx
    short-id: xxxx
  encryption: ""

  network: tcp

  smux:
    enabled: false
```

!!! note
    Контроль потока `xtls-*` в Meta фактически эквивалентен `xtls-*-udp443` в Xray-core. Если нужно перехватывать UDP-трафик на порту 443, используйте логическое правило: `AND,((NETWORK,UDP),(DST-PORT,443)),REJECT`

[Общие поля](./index.md)

[Поля TLS](./tls.md)

## uuid

Обязательно, ID пользователя VLESS

## flow

Подпротокол VLESS, доступное значение - `xtls-rprx-vision`

## packet-encoding

Кодирование UDP-пакетов, если пусто, используется оригинальное кодирование. Возможные значения: `packetaddr` (поддерживается `v2ray 5+`) / `xudp` (поддерживается `xray`)

## encryption

Конфигурация клиента шифрования Vless:

`encryption: "mlkem768x25519plus.native/xorpub/random.1rtt/0rtt.(длина заполнения).(пробел заполнения).(Пароль X25519).(Клиент ML-KEM-768)..."`

(XTLS Vision в native/xorpub может быть разделен. Используется только режим 1-RTT. / Если количество секунд в тикете, отправленном сервером, не равно нулю, используется мультиплексирование 0-RTT.)

/ Можно выбрать только один вариант. Далее следует как минимум одна строка base64. Разрешено неограниченное количество конкатенаций. Для генерации значения используйте `mihomo generate vless-x25519` и `mihomo generate vless-mlkem768`. При замене значения удалите скобки.

Заполнение — необязательный параметр, применяемый только к 1-RTT для устранения влияния длины рукопожатия. Значение по умолчанию для обоих вариантов — . "100-111-1111.75-0-111.50-0-3333":

* После приветствия клиент/сервер с 1-RTT добавить случайное дополнение длиной от 111 до 1111 байт с вероятностью 100%.

* Ожидать в течение случайного времени от 0 до 111 миллисекунд («вероятность от-до») с вероятностью 75%.

* Повторно отправить случайное дополнение длиной от 0 до 3333 байт с вероятностью 50% (если дополнение равно 0, не использовать Write()).

* Сервер и клиент могут задавать различные параметры дополнения, которые можно объединять неограниченное количество раз в порядке len и gap. Первое дополнение должно иметь 100% вероятность и быть не менее 35 байт.

## network

Транспортный уровень, поддерживает ws/http/h2/grpc, если не настроен или настроен с другим значением, используется tcp

См. [Конфигурация транспортного уровня](./transport.md) 
