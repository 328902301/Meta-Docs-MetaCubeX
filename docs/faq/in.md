# 流量入站

## 流量传入的方式

代理软件基本上只有三种流量传入的方式，按接管流量的顺序区分，分别是 代理端口 / 透明代理 / 虚拟网卡，处理效率在正常情况下顺序也是如此

### 代理端口

几乎所有代理软件都可以在本地监听一个代理端口用于接收流量，一般是 http 或者 socks5，用于本地的流量传输

代理端口一般配置于需要代理的软件之中，或者配置为系统代理，让软件直接使用系统代理

代理端口一般都可接受 IP 或者 FQDN (fully qualified domain name，完全限定域名) 入站

### 透明代理

透明代理是一种网络代理服务，其主要功能是在不需要客户端进行任何设置或配置的情况下，自动拦截并转发所有的网络请求。

在透明代理中，用户的网络流量被重定向到透明代理端口，而用户无需手动更改网络设置或配置任何代理信息。

透明代理会自动处理用户的网络请求，然后将其转发到目标服务器，并将响应再返回给用户，而用户对此过程是无感知的

透明代理端口只能接受 IP 入站，不能接受 FQDN (域名) 入站

透明代理需自行配置转发，自行学习 iptables/nftables 等

### 虚拟网卡

虚拟网卡是一种软件定义的网络设备，它允许用户空间程序通过标准网络套接字 API 与内核进行通信，实现对网络数据包的读取和发送

由于虚拟网卡是三层设备，所以只能接受 IP 入站，不能接受 FQDN (域名) 入站
